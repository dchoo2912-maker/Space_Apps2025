<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Mission Vista ‚Äî Solar System Explorer</title>

<!-- Tailwind (UI only) -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">

<!-- Three.js (CDN) -->
<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>

<style>
  :root{--bg:#0b1020;--panel:#111936;--ink:#eaf2ff;--muted:#9fb0d3;--accent:#7cc7ff;--glass:rgba(20,20,40,.6)}
  html,body{height:100%;margin:0;background: radial-gradient(100% 80% at 50% 0%, #0a0a20 0%, #000 80%);color:var(--ink);font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial}
  header{backdrop-filter: blur(10px); background-color: rgba(10,10,30,0.4); position: sticky; top: 0; z-index: 50;}
  .starfield{position:fixed; inset:0; z-index:-10; background:radial-gradient(circle at 50% 20%, #1a1a3d, #000); animation: stars 200s linear infinite;}
  @keyframes stars{from{background-position:0 0;} to{background-position:10000px 10000px;}}
  .btn{padding:.45rem .65rem;border-radius:.75rem;font-size:.85rem;background: rgba(120,130,255,.14);border:1px solid rgba(120,130,255,.25);line-height:1}
  .btn:hover{background: rgba(120,130,255,.22)}
  .btn-primary{background: rgba(123,140,255,.25);border-color: rgba(123,140,255,.5)}
  #planet-canvas{width:100%;height:100%;display:block}
  #planet-hud{position:absolute;left:12px;bottom:12px;color:var(--muted);font-size:12px}

  #inspectOverlay{position:fixed; inset:0; background:rgba(0,0,0,.7); display:none; align-items:center; justify-content:center; z-index:99999;}
  #inspectPanel{width:min(92vw, 1100px); height:min(86vh, 720px); background:#0a0f24; border:1px solid rgba(255,255,255,.12); border-radius:16px; display:flex; flex-direction:column;}
  #inspectHeader{display:flex; align-items:center; justify-content:space-between; gap:.75rem; padding:10px 14px; border-bottom:1px solid rgba(255,255,255,.12);}
  #inspectBody{flex:1; position:relative; background:#000; border-radius:0 0 16px 16px; overflow:hidden;}
  #inspectCanvas{position:absolute; inset:0;}
</style>
</head>
<body>
<div class="starfield"></div>

<header class="p-6 flex justify-between items-center">
  <h1 class="text-2xl font-bold tracking-wider">MISSION VISTA</h1>
  <nav class="space-x-6">
    <button data-goto="home" class="hover:text-blue-400">Home</button>
    <button data-goto="explorer" class="hover:text-blue-400">Solar System</button>
  </nav>
</header>

<main id="home" class="block">
  <section class="min-h-screen flex flex-col items-center justify-center text-center px-6">
    <h2 class="text-5xl md:text-6xl font-bold mb-6">See Beyond Pixels</h2>
    <p class="max-w-2xl text-lg text-gray-300 mb-10">
      Mission Vista turns real NASA datasets into immersive visual experiences.
    </p>
    <button data-goto="explorer" class="btn btn-primary">üöÄ Enter the Solar System ‚Üí</button>
  </section>
</main>

<section id="explorer" class="hidden relative">
  <div class="fixed top-3 left-1/2 -translate-x-1/2 rounded-2xl px-3 py-2 z-[9999] flex items-center gap-3"
       style="background:rgba(20,20,40,.6);backdrop-filter:blur(8px);border:1px solid rgba(120,120,200,.15)">
    <button data-goto="home" class="btn">‚Üê Home</button>
    <div class="font-semibold tracking-wide">Space Explorer</div>
    <div class="ml-2 flex items-center gap-2">
      <label class="text-xs opacity-80" for="bodySelect">Body</label>
      <select id="bodySelect" class="bg-transparent border border-slate-600 rounded-xl p-1 px-2 text-xs">
        <option>Mercury</option><option>Venus</option><option selected>Earth</option><option>Moon</option>
        <option>Mars</option><option>Jupiter</option><option>Saturn</option><option>Uranus</option><option>Neptune</option>
      </select>
    </div>
    <button id="inspectBtn" class="btn" title="Inspect close-up">Inspect</button>
  </div>

  <div class="w-full h-screen grid grid-cols-1" id="view-planets">
    <div id="planet-wrap" class="relative">
      <canvas id="planet-canvas"></canvas>
      <div id="planet-hud">Drag = orbit ‚Ä¢ Scroll = zoom ‚Ä¢ Double-click empty space to reset</div>
    </div>
  </div>
</section>

<div id="inspectOverlay">
  <div id="inspectPanel">
    <div id="inspectHeader">
      <div class="title font-semibold" id="inspectTitle">Inspect</div>
      <div class="flex items-center gap-2">
        <label class="text-xs flex items-center gap-2"><input id="spinToggle" type="checkbox" /> Spin</label>
        <button id="resetInspectCam" class="btn">Reset view</button>
        <button id="closeInspect" class="btn">Close</button>
      </div>
    </div>
    <div id="inspectBody"><div id="inspectCanvas"></div></div>
  </div>
</div>

<footer class="p-6 text-center text-gray-500 text-sm">
  Built for the NASA Space Apps Challenge üöÄ
</footer>

<script>
// OrbitControlsLite (same as before) ...
class OrbitControlsLite {
  constructor(object, domElement){/* ... unchanged ... */}
  // (full class code same as before)
}
THREE.OrbitControls = OrbitControlsLite;
</script>

<script>
// ---------- SPA Nav ----------
function showSection(id){
  document.getElementById('home').classList.toggle('hidden', id!=='home');
  document.getElementById('explorer').classList.toggle('hidden', id!=='explorer');
}
document.querySelectorAll('[data-goto]').forEach(el=>{
  el.addEventListener('click', ()=>{ const id=el.getAttribute('data-goto'); showSection(id); });
});

// ---------- Main Scene ----------
const canvas = document.getElementById('planet-canvas');
const renderer = new THREE.WebGLRenderer({ antialias:true, canvas });
renderer.setSize(window.innerWidth, window.innerHeight);
renderer.setPixelRatio(Math.min(devicePixelRatio||1, 2));
renderer.outputColorSpace = THREE.SRGBColorSpace;
renderer.toneMapping = THREE.ACESFilmicToneMapping;

const scene = new THREE.Scene(); scene.background = new THREE.Color(0x000000);
const camera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 0.1, 5000);
camera.position.set(0,30,130);
const controls = new THREE.OrbitControls(camera, canvas);
controls.enableDamping = true; controls.dampingFactor = 0.06; controls.enablePan = false;

// Lights
const sunLight = new THREE.PointLight(0xfff6cc, 4.5, 0);
sunLight.position.set(0,0,0);
scene.add(new THREE.AmbientLight(0xffffff, 0.28));
scene.add(new THREE.HemisphereLight(0xbfdfff, 0x080820, 0.22));
scene.add(sunLight);

// Sun
function makeSunTexture(size=512){
  const c=document.createElement('canvas'); c.width=c.height=size;
  const ctx=c.getContext('2d');
  const g=ctx.createRadialGradient(size/2,size/2,0,size/2,size/2,size/2);
  g.addColorStop(0,'#fff7d1'); g.addColorStop(0.4,'#ff9b2f'); g.addColorStop(1,'#000');
  ctx.fillStyle=g; ctx.fillRect(0,0,size,size);
  return new THREE.CanvasTexture(c);
}
function makeCoronaTexture(size=512){
  const c=document.createElement('canvas'); c.width=c.height=size;
  const ctx=c.getContext('2d');
  const g=ctx.createRadialGradient(size/2,size/2,0,size/2,size/2,size/2);
  g.addColorStop(0,'rgba(255,230,150,0.9)');
  g.addColorStop(0.7,'rgba(255,140,40,0.2)');
  g.addColorStop(1,'rgba(0,0,0,0)');
  ctx.fillStyle=g; ctx.fillRect(0,0,size,size);
  return new THREE.CanvasTexture(c);
}
const sunGroup = new THREE.Group(); scene.add(sunGroup);
const SUN_RADIUS = 2.2;
const sunCore = new THREE.Mesh(new THREE.SphereGeometry(SUN_RADIUS,64,48), new THREE.MeshBasicMaterial({map:makeSunTexture()}));
sunGroup.add(sunCore);
const corona = new THREE.Sprite(new THREE.SpriteMaterial({
  map: makeCoronaTexture(), transparent:true, blending:THREE.AdditiveBlending, depthWrite:false
}));
corona.scale.set(SUN_RADIUS*3.5, SUN_RADIUS*3.5, 1);
sunGroup.add(corona);

// Planets (same setup as before, including Saturn rings)
// ... (planetDefs, addPlanet, moon, orbits, animate, inspect overlay) ...
// [Use the same code I gave earlier for planets and rings, unchanged]

</script>
</body>
</html>



